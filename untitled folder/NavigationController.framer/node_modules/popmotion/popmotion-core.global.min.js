!function(){var t={},e=function(){var t={},e=function(){var t={},e=["scope","dom"],n=function(t){return-1!==e.indexOf(t)},r=function(t){return Object.prototype.toString.call(t).slice(8,-1)};return t={hasChanged:function(t,e){var n=!1,r="";for(r in e)t.hasOwnProperty(r)&&e.hasOwnProperty(r)?t[r]!==e[r]&&(n=!0):n=!0;return n},isNum:function(t){return"number"==typeof t},isObj:function(t){return"object"==typeof t},isFunc:function(t){return"Function"===r(t)},isString:function(t){return"string"==typeof t},isRelativeValue:function(t){return t&&t.indexOf&&t.indexOf("=")>0},isArray:function(t){return"Array"===r(t)},copy:function(t){return this.isArray(t)?this.copyArray(t):this.copyObject(t)},copyObject:function(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=this.isObj(t[r])&&!n(r)?this.copy(t[r]):t[r]);return e},copyArray:function(t){for(var e=[],n=t.length,r=0;n>r;r++)e[r]=this.isObj(t[r])?this.copy(t[r]):t[r];return e},merge:function(t,e){return this.isArray(t)?this.copyArray(e):this.mergeObject(t,e)},mergeObject:function(t,e){var r=this.isObj(t),i=r?this.copy(t):this.copy(e),s="";if(r)for(s in e)e.hasOwnProperty(s)&&(i[s]=this.isObj(e[s])&&!n(s)?this.merge(t[s],e[s]):e[s]);return i},splitValUnit:function(t){var e=t.match(/(-?\d*\.?\d*)(.*)/);return{value:parseFloat(e[1]),unit:e[2]}},stepProgress:function(t,e){var n=1/(e-1),r=1-1/e,i=Math.min(t/r,1);return Math.floor(i/n)*n},currentTime:function(){return"undefined"!=typeof performance?performance.now():(new Date).getTime()}}}(),n=function(){var t={},n=e,r={angle:function(t,e){var n=e?t:{x:0,y:0},r=e||t,i={x:r.x-n.x,y:r.y-n.y};return this.angleFromCenter(i.x,i.y)},angleFromCenter:function(t,e){return this.radiansToDegrees(Math.atan2(e,t))},degreesToRadians:function(t){return t*Math.PI/180},dilate:function(t,e,n){return t+(e-t)*n},distance:function(t,e){return"number"==typeof t?this.distance1D(t,e):this.distance2D(t,e)},distance1D:function(t,e){var n="number"==typeof e,r=n?t:0,i=n?e:t;return s(i-r)},distance2D:function(t,e){var n="object"==typeof e,r=n?t:{x:0,y:0},i=n?e:t,a={x:s(i.x-r.x),y:s(i.y-r.y)};return this.hypotenuse(a.x,a.y)},hypotenuse:function(t,e){var n=t*t,r=e*e,i=n+r;return Math.sqrt(i)},offset:function(t,e){var n={};for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?n[r]=e[r]-t[r]:n[r]=0);return i(n.x)&&i(n.y)&&(n.angle=this.angle(t,e),n.distance=this.distance2D(t,e)),n},pointFromAngleAndDistance:function(t,e,n){var r={};return r.x=n*Math.cos(e)+t.x,r.y=n*Math.sin(e)+t.y,r},progress:function(t,e,n){var r="number"==typeof n,i=r?e:0,s=r?n:e,a=s-i,u=(t-i)/a;return u},radiansToDegrees:function(t){return 180*t/Math.PI},relativeValue:function(t,e){var r=t,i=e.split("="),s=i[0],a=n.splitValUnit(i[1]);switch(s){case"+":r+=a.value;break;case"-":r-=a.value;break;case"*":r*=a.value;break;case"/":r/=a.value}return a.unit&&(r+=a.unit),r},restricted:function(t,e,n){var r=void 0!==e?Math.max(t,e):t;return r=void 0!==n?Math.min(r,n):r},speedPerFrame:function(t,e){return i(t)?t/(1e3/e):0},speedPerSecond:function(t,e){return t*(1e3/e)},value:function(t,e,n){var r="number"==typeof n,i=r?e:0,s=r?n:e;return-t*i+t*s+i},valueEased:function(t,e,n,r){var i=r(t);return this.value(i,e,n)}},i=n.isNum,s=Math.abs;return t=r}(),r=function(){var t={},r=n,i=e,s=function(){var t={},e=3,n=function(t,n){this.max=n||e,this.entries=[],this.add(t)};return n.prototype={add:function(t){var e=this.getSize();this.entries.push(t),e>=this.max&&this.entries.shift()},get:function(t){return t="number"==typeof t?t:this.getSize()-1,this.entries[t]},getPrevious:function(){return this.get(this.getSize()-2)},getSize:function(){return this.entries.length}},t=n}(),a=function(){var t=arguments.length-1;this.current={},this.offset={},this.velocity={},this.history=new s,this.update(arguments[0],arguments[1]),i.isFunc(arguments[t])&&(this.poll=arguments[t])};return a.prototype={maxInactiveFrames:2,inactiveFrames:0,get:function(t){var e=this.history.get(),n=void 0!==t?e[t]:e;return n},update:function(t,e){var n={};return i.isNum(e)?n[t]=e:n=t,this.history.add(i.merge(this.current,n)),this},onFrame:function(t){var e,n;if(t!==this.lastFrame)return e=this.poll?this.poll():this.history.get(),n=i.hasChanged(this.current,e),n?(this.velocity=r.offset(this.current,e),this.current=e,this.inactiveFrames=0):this.inactiveFrames>=this.maxInactiveFrames?this.velocity=r.offset(this.current,this.current):this.inactiveFrames++,this.lastFrame=t,this}},t=a}(),i=function(){var t={},e=function(){this._keys=[],this._numKeys=0};return e.prototype={_addKey:function(t){this._keys.push(t),this._numKeys++},extend:function(t,e){var n="object"==typeof t,r=n?t:{},i="";n||(r[t]=e);for(i in r)r.hasOwnProperty(i)&&(this._addKey(i),this[i]=r[i]);return this},each:function(t){for(var e="",n=0;n<this._numKeys;n++)e=this._keys[n],t(e,this[e])}},t=e}(),s=function(){var t={},e=n,r=function(){var t={},e=8,n=.001,r=1e-7,i=10,s=11,a=1/(s-1),u="undefined"!=typeof Float32Array,o=function(t,e){return 1-3*e+3*t},c=function(t,e){return 3*e-6*t},h=function(t){return 3*t},f=function(t,e,n){return 3*o(e,n)*t*t+2*c(e,n)*t+h(e)},l=function(t,e,n){return((o(e,n)*t+c(e,n))*t+h(e))*t},p=function(t,o,c,h){var p=u?new Float32Array(s):new Array(s),v=!1,d=function(e,n,s){var a,u,o=0;do u=n+(s-n)/2,a=l(u,t,c)-e,a>0?s=u:n=u;while(Math.abs(a)>r&&++o<i);return u},m=function(n,r){for(var i,s=0,a=0;e>s;++s){if(a=f(r,t,c),0===a)return r;i=l(r,t,c)-n,r-=i/a}return r},y=function(){for(var e=0;s>e;++e)p[e]=l(e*a,t,c)},g=function(e){for(var r=0,i=1,u=s-1,o=0,h=0,l=0;i!=u&&p[i]<=e;++i)r+=a;return--i,o=(e-p[i])/(p[i+1]-p[i]),h=r+o*a,l=f(h,t,c),l>=n?m(e,h):0===l?h:d(e,r,r+a)},x=function(){v=!0,(t!=o||c!=h)&&y()},w=function(e){var n;return v||x(),n=t===o&&c===h?e:0===e?0:1===e?1:l(g(e),o,h)};return w};return t=p}(),s="In",a="Out",u=s+a,o=function(t){return function(e){return Math.pow(e,t)}},c={circ:function(t){return 1-Math.sin(Math.acos(t))},back:function(t){var e=1.5;return t*t*((e+1)*t-e)}},h=function(t,e){return.5>=t?e(2*t)/2:(2-e(2*(1-t)))/2},f=function(t,e){return 1-e(1-t)},l=function(t,e){var n=t+s,r=t+a,i=t+u,o=n,c=r;v[o]=e,v[c]=function(t){return f(t,v[o])},v[i]=function(t){return h(t,v[o])}},p=i,v=new p;v.extend=function(t,e,n,i,s){return"function"==typeof e?l(t,e):this[t]=new r(e,n,i,s),this},v.withinRange=function(t,n,r,i,s){var a=e.restricted(t,0,1);return a!==t&&s&&(i="linear",a+=(t-a)*s),e.valueEased(a,n,r,this[i])},v.linear=function(t){return t},["ease","cubic","quart","quint"].forEach(function(t,e){c[t]=o(e+2)});for(var d in c)c.hasOwnProperty(d)&&l(d,c[d]);return t=v}(),a=function(){var t={},n=e,r=i,s=new r,a=".",u=function(t){for(var e=t.split(a),n=e.length,r=e[0],i=1;n>i;i++)e[i]=r+=a+e[i];return e};return s.getDefined=function(t){for(var e={},r={},i=u(t),s=i.length,a=0;s>a;a++)r=this[i[a]],r&&(e=n.merge(e,r));return e},t=s}(),u=function(){var t={},r=n,s=e,a=r.speedPerFrame,u=i,o=new u;return o.extend("velocity",function(t,e){return t.velocity-a(t.deceleration,e)+a(t.acceleration,e)}).extend("glide",function(t,e,n){var r=-s.currentTime()-n,i=-t.to*Math.exp(r/t.timeConstant);return t.to+i-t.current}).extend("friction",function(t,e){var n=a(t.velocity,e)*(1-t.friction);return r.speedPerSecond(n,e)}).extend("spring",function(t,e){var n=t.to-t.current;return t.velocity+=n*a(t.spring,e),o.friction(t,e)}).extend("bounce",function(t){var e=0,n=t.to,r=t.current,i=t.bounce;return"glide"===t.simulate&&(e=n-r,t.to=r-e*i),t.velocity*=-i}).extend("capture",function(t,e){t.to=e,t.simulate="spring",t.capture=t.min=t.max=void 0}),t=o}(),o=function(){var t={},n=a,r=e;return t=function(t,e){var i="string"==typeof t?n.getDefined(t):t;return"object"==typeof e&&(i=r.merge(i,e)),i}}(),c=function(){var t={},r=n,i=e,u=s,o={actionDefaults:function(){var t={};return t={duration:400,ease:"easeInOut",dilate:1,loop:!1,yoyo:!1,flip:!1}}(),valueDefaults:function(){var t={};return t={duration:400,delay:0,stagger:0,ease:"easeInOut",steps:0,stepDirection:"end"}}(),surpressMethod:!0,actorMethods:function(){var t={},n=function(){var t={},n=a,r=e,i=function(){var t=[].slice.call(arguments),e=t[0].split(" "),r=e.length,i=n.getDefined(e[0]),s=1;if(r>1)for(;r>s;s++)t.shift(),t.unshift(e[s]),this.queue.add.apply(this.queue,t);return i};return t=function(){for(var t=[].slice.call(arguments),e=t.length,n=r.isString(t[0])?i.apply(this,t):t[0],s=1;e>s;s++)switch(typeof t[s]){case"object":n=r.merge(n,t[s]);break;case"number":n.duration=t[s];break;case"string":n.ease=t[s]}return n.loopCount=n.yoyoCount=n.flipCount=0,n.playDirection=1,n}}(),r=e;return t={play:function(){var t="play";return this.isActive&&this.action===t?this.addToQueue.apply(this,arguments):(this.action=t,this.set(n.apply(this,arguments),"to"),this.start()),this},addToQueue:function(){return this.queue.add.apply(this.queue,arguments),this},next:function(){for(var t=[{key:"loop",callback:this.reset},{key:"yoyo",callback:this.reverse},{key:"flip",callback:this.flipValues}],e=t.length,n=!1,r=0;e>r;++r)if(this.checkNextStep(t[r].key,t[r].callback)){n=!0;break}return n||this.playNext()?this.isActive=!0:this.stop(),this},checkNextStep:function(t,e){var n="Count",i=!1,s=this[t],a=this[t+n],u=s===!0;return(u||r.isNum(s))&&(++a,this[t+n]=a,(u||s>=a)&&(e.call(this),i=!0)),i},playNext:function(){var t=!1,e=this.queue.next(this.playDirection);return r.isArray(e)&&(this.set(n.apply(this,e),"to").resetProgress(),t=!0),t}}}(),onFrameStart:function(t){this.elapsed+=t*this.dilate*this.playDirection,this.hasEnded=!0},process:function(t,e){var n,s=e.to,a=1===this.playDirection?1:0,o=e.current;return void 0!==s&&(n=r.restricted(r.progress(this.elapsed-e.delay,e.duration)-e.stagger,0,1),n!==a?this.hasEnded=!1:e.to=void 0,e.steps&&(n=i.stepProgress(n,e.steps)),o=u.withinRange(n,e.origin,s,e.ease)),o},hasEnded:function(){return this.hasEnded}};return t=o}(),h=function(){var t={},o=function(){var t={};return t=function(t){return function(){for(var e,n,r=this.elements.length,i=0,s=!1,a=[];r>i;i++)e=this.elements[i],n=e[t].apply(e,arguments),n!=e&&(s=!0,a.push(n));return s?a:this}}}(),c=function(){var t,n,r={},s=e,a=o,u=function(){var t={};return t={delay:0,onStart:void 0,onChange:void 0,onFrame:void 0,onEnd:void 0}}(),c=function(){var t={};return t={to:void 0,min:void 0,max:void 0,origin:0,hasRange:!1,round:!1}}(),h=i,f=new h;return f.extend=function(e,r){var i="";if(r.surpressMethod||t.prototype[e]||(t.prototype[e]=function(){return this.action=e,this.set(r.parse.apply(this,arguments)),this.start()},n.prototype[e]=a(e)),r.actorMethods)for(i in r.actorMethods)r.actorMethods.hasOwnProperty(i)&&(t.prototype[i]=r.actorMethods[i],n.prototype[i]=a(i));r.actionDefaults=r.actionDefaults?s.merge(u,r.actionDefaults):u,r.valueDefaults=r.valueDefaults?s.merge(c,r.valueDefaults):c,h.prototype.extend.call(this,e,r)},f.setActor=function(e){t=e},f.setActorCollection=function(t){n=t},r=f}(),h=function(){var t={},e=i,n=new e;return n.defaultProps=function(t,e){var n=this[t],r=n.defaultProps?n.defaultProps[e]||n.defaultProps:{};return r},n.test=function(t){var e=!1;return this.each(function(n,r){r.test&&r.test(t)&&(e=n)}),e},t=n}(),f=function(){var t,e,n={},r=function(){var t={};return t=function(t,e,n,r){var i=typeof t;if("string"==i&&e)r.call(this,t,e);else{if("object"!=i)return n.call(this,t);for(var s in t)t.hasOwnProperty(s)&&r.call(this,s,t[s])}return this}}(),s=o,a=i,u=new a;return u.extend=function(n,i){i.get&&i.set&&(t.prototype[n]=function(t,e){return r.call(this,t,e,i.get,i.set)},e.prototype[n]=s(n)),a.prototype.extend.call(this,n,i)},u.shard=function(t,e){for(var n="",r="",i=!1,s=0;s<this._numKeys;s++)n=this._keys[s],i=e&&e.hasOwnProperty(n),r=i?e[n]:{},(i||"values"===n)&&t(this[n],n,r)},u.setActor=function(e){t=e},u.setActorCollection=function(t){e=t},n=u}(),l=function(){var t={},n=function(){var t={},n=function(){var t={},n=function(){var t={},n=e,r=33,i=function(){this.elapsed=16.7,this.current=n.currentTime(),this.update()};return i.prototype={update:function(){return this.prev=this.current,this.current=n.currentTime(),this.elapsed=Math.min(this.current-this.prev,r),this.current},getElapsed:function(){return this.elapsed},clock:function(){this.current=n.currentTime()}},t=i}(),r=function(){var t,e={},n=0,r="undefined"!=typeof window;return t=r?window.requestAnimationFrame:function(t){var e=(new Date).getTime(),r=Math.max(0,16-(e-n)),i=setTimeout(function(){t(e+r)},r);return n=e+r,i},e=t}(),i=function(){this.timer=new n};return i.prototype={isRunning:!1,frame:function(){var t=this;r(function(){var e=t.timer.update(),n=t.callback.call(t.scope,e,t.timer.getElapsed());n?t.frame():t.stop()})},start:function(){this.isRunning||(this.timer.clock(),this.isRunning=!0,this.frame())},stop:function(){this.isRunning=!1},setCallback:function(t,e){this.scope=t,this.callback=e}},t=new i}(),r=function(){this.activeIds=[],this.activeProcesses={},this.deactivateQueue=[],n.setCallback(this,this.fireActive)};return r.prototype={processCounter:0,activeCount:0,getProcess:function(t){return this.activeProcesses[t]},getActiveCount:function(){return this.activeCount},getActive:function(){return this.activeIds},getQueueLength:function(){return this.deactivateQueue.length},fireActive:function(t,e){var n,r=0,i=[],s=0;for(this.purge(),r=this.getActiveCount(),i=this.getActive();r>s;s++)n=this.getProcess(i[s]),n&&n.fire(t,e);return this.purge(),r=this.getActiveCount(),r?!0:!1},register:function(){return this.processCounter++},activate:function(t,e){var r=this.deactivateQueue.indexOf(e),i=r>-1,s=this.activeIds.indexOf(e)>-1;i&&this.deactivateQueue.splice(r,1),s||(this.activeIds.push(e),this.activeProcesses[e]=t,this.activeCount++,n.start())},deactivate:function(t){this.deactivateQueue.push(t)},purge:function(){for(var t=this.getQueueLength(),e=0,n=0;t--;)n=this.deactivateQueue[t],e=this.activeIds.indexOf(n),e>-1&&(this.activeIds.splice(e,1),this.activeCount--,delete this.activeProcesses[n]);this.deactivateQueue=[]}},t=new r}(),r=function(t,e){var r=void 0!==e;this.callback=r?e:t,this.scope=r?t:this,this.id=n.register(),this.isActive=!1};return r.prototype={fire:function(t,e){return this.isActive&&this.callback.call(this.scope,t,e),this.isInterval&&this.deactivate(),this},start:function(t){var e=this;return this.reset(),this.activate(),t&&(this.stopTimer=setTimeout(function(){e.stop()},t),this.isStopTimerActive=!0),this},stop:function(){return this.reset(),this.deactivate(),this},activate:function(){return this.isActive=!0,n.activate(this,this.id),this},deactivate:function(){return this.isActive=!1,n.deactivate(this.id),this},every:function(t){var e=this;return this.reset(),this.isInterval=!0,this.intervalTimer=setInterval(function(){e.activate()},t),this.isIntervalTimeActive=!0,this},reset:function(){return this.isInterval=!1,this.isStopTimerActive&&clearTimeout(this.stopTimer),this.isIntervalTimeActive&&clearInterval(this.intervalTimer),this}},t=r}(),p=function(){var t={},r=l,i=function(){var t={},e=function(){this.clear()};return e.prototype={add:function(){this.queue.push([].slice.call(arguments))},next:function(t){var e=this.queue,n=!1,r=this.index;return t=arguments.length?t:1,r>=0&&r<e.length?(n=e[r],this.index=r+t):this.clear(),n},clear:function(){this.queue=[],this.index=0}},t=e}(),s=e,a=function(){var t={},e=c,r=f,i=h,s=n,a="values",u=function(t,n){var u=this,o=this.values,c=e[this.action],h=c,f=this.output,l=this.order.length,p=this.parentOrder.length,v="",d={},m=0,y=0;for(this.input&&(f.input=this.input.onFrame(t)),c.onFrameStart&&c.onFrameStart.call(this,n),this.firstFrame&&r.shard(function(t){t.onStart&&t.onStart.call(u,o)},f),f[a]=f[a]||{};l>y;y++)v=this.order[y],d=o[v],h=d.link?e.link:c,m=h.process.call(this,v,d,n),h.limit&&(m=h.limit(m,d)),d.round&&(m=Math.round(m)),d.frameChange=m-d.current,h.calculatesVelocity||(d.velocity=s.speedPerSecond(d.frameChange,n)),d.speed=Math.abs(d.velocity),d.current!=m&&(this.hasChanged=!0),this.values[v].current=m,f[a][v]=d.unit?m+d.unit:m,d.parent?(f[d.parent]=f[d.parent]||{},f[d.parent][d.propName]=f[a][v]):f[d.route][d.name]=f[a][v];for(y=0;p>y;y++)v=this.parentOrder[y],d=this.values[v],d.current=i[d.type].combine(f[v]),f[d.route][d.name]=f[a][v]=d.current;r.shard(function(t,e,n){t.onFrame&&t.onFrame.call(u,n),(u.hasChanged&&t.onChange||u.firstFrame&&t.onChange)&&t.onChange.call(u,n)},f),c.hasEnded.call(this,this.hasChanged)?(this.isActive=!1,r.shard(function(t,e,n){t.onEnd&&t.onEnd.call(u,n)},f),!this.isActive&&"play"===this.action&&this.next&&this.next()):this.hasChanged=!1,this.firstFrame=!1,this.framestamp=t};return t=function(){this.isActive&&u.apply(this,arguments)}}(),u=function(){var t={},r=n,i=e,s=i.isNum,a=c,u=h,o=f,l=["current","to","start","min","max"],p=l.length;return t={all:function(t,e){var n="";for(n in e)e.hasOwnProperty(n)&&this[t](e[n]);return this},reset:function(t){this.retarget(t),t.current=t.origin},resetOrigin:function(t){t.origin=t.current},retarget:function(t){t.to=t.target},flip:function(t){var e=void 0!==t.target?t.target:t.current;t.target=t.to=t.origin,t.origin=e},initialState:function(t,e){return{current:t||0,speed:0,velocity:0,frameChange:0,route:e}},split:function(t,e,n,r){for(var s={},a={},o="",c="",h=0;p>h;h++)if(o=l[h],e.hasOwnProperty(o)){i.isFunc(e[o])&&(e[o]=e[o].call(n)),a=r.split(e[o]);for(c in a)a.hasOwnProperty(c)&&(s[c]=s[c]||i.copy(u.defaultProps(e.type,c)),s[c][o]=a[c])}return s},splitUnit:function(t,e){var n,r=t;return i.isString(t)&&(n=i.splitValUnit(t),isNaN(n.value)||(r=n.value,e.unit=n.unit)),r},resolve:function(t,e,n,s){var a=n.current||0,u=l.indexOf(t)>-1;return i.isFunc(e)&&(e=e.call(s,a)),i.isString(e)&&(e.indexOf("=")>0&&(e=r.relativeValue(a,e)),u&&this.splitUnit(e,n)),u&&(e=parseFloat(e)),e},preprocess:function(t,e,n,r,s){var a={},o={},c={},h={},f={},l={},p=!1,v="",d="",m="";s=s||"current";for(v in t)if(t.hasOwnProperty(v)&&(p=i.isObj(t[v]),o=p?t[v]:{},d=v+r,l=e.values[d],o.name=v,p||(o[s]=t[v]),o.type||(l&&l.type?o.type=l.type:n.typeMap&&n.typeMap[v]?o.type=n.typeMap[v]:i.isString(o[s])&&(o.type=u.test(o[s]))),a[d]=o,o.type))if(f=u[o.type],f.split){o.children={},c=this.split(v,o,e,f);for(m in c)c.hasOwnProperty(m)&&(h=i.merge(o,c[m]),h.parent=v+r,h.name=v,h.propName=m,delete h.type,delete h.children,a[v+m+r]=h)}else a[d]=i.merge(u.defaultProps(o.type,v),o);return a},process:function(t,e,n,r){var u,c=o[n],h="values"===n?"":"."+n,f=this.preprocess(t,e,c,h,r),l="",p="",v={},d={},m={},y=!1;for(l in f)if(f.hasOwnProperty(l)){v=f[l],d=e.values[l]||this.initialState(this.resolve("start",v.start,{},e),n),y=void 0!==v.children,d.action=v.link?"link":e.action,m=a[d.action].valueDefaults;for(p in m)m.hasOwnProperty(p)&&(d[p]=e.hasOwnProperty(p)?e[p]:m[p]);for(p in v)v.hasOwnProperty(p)&&(u=v[p],void 0===u||s(u)||y||(u=this.resolve(p,u,d,e)),d[p]=u,"to"===p&&(d.target=d.to));d.origin=d.current,d.hasRange=s(d.min)&&s(d.max)?!0:!1,e.values[l]=d,e.updateOrder(l,i.isString(d.link),y)}}}}(),o=c,p=f,v=function(t){this.element=t||!1,this.values={},this.output={},this.queue=new i,this.process=new r(this,a),this.clearOrder()};return v.prototype={set:function(t,e){var n=this;return this.clearOrder(),this.resetProps(),this.setProps(t),p.shard(function(t,r,i){n.output[r]=n.output[r]||{},n.setValues(i,r,e)},t),this},start:function(){return this.resetProgress(),this.activate(),this},stop:function(){return this.queue.clear(),this.pause(),this},pause:function(){return this.isActive=!1,this.process.stop(),this},resume:function(){return this.framestamp=this.started=s.currentTime(),this.isActive=!0,this.process.start(),this},toggle:function(){return this.isActive?this.pause():this.resume(),this},activate:function(){this.isActive=!0,this.started=s.currentTime()+this.delay,this.framestamp=this.started,this.firstFrame=!0,this.process.start()},reset:function(){return this.resetProgress(),u.all("reset",this.values),this},resetProgress:function(){return this.elapsed=1===this.playDirection?0:this.duration,this.started=s.currentTime(),this},resetOrigins:function(){return u.all("resetOrigin",this.values),this},reverse:function(){return this.playDirection*=-1,u.all("retarget",this.values),this},flipValues:function(){return this.elapsed=this.duration-this.elapsed,u.all("flip",this.values),this},setProps:function(t){var e="";for(e in t)t.hasOwnProperty(e)&&!p.hasOwnProperty(e)&&(this[e]=t[e])},resetProps:function(){return this.setProps(o[this.action].actionDefaults),this},setValues:function(t,e,n){return u.process(t,this,e,n),this},updateOrder:function(t,e,n){var r=n?this.parentOrder:this.order,i=r.indexOf(t);return(-1===i||e)&&(r.push(t),-1!==i&&r.splice(i,1)),this},clearOrder:function(){return this.order=[],this.parentOrder=[],this},get isActive(){return this._isActive},set isActive(t){t===!0&&(this.hasChanged=t),this._isActive=t}},o.setActor(v),p.setActor(v),t=v}(),v=function(){var t={},n=p,r=o,i=e,s=c,a=f,u="linear",h=function(t){this.clear(),t&&this.add(t),this._stagger=new n};return h.prototype={clear:function(){return this.elements=[],this},stagger:function(t,e){var n=this,r=[].slice.call(arguments),s=this.elements.length,a=i.isNum(t),o=a?t:t.interval,c=a?{}:t,h=-1,f=i.isString(e)?function(t){t[e].apply(t,r)}:e;return r.splice(0,2),c.values={i:{current:0,duration:o*s,ease:a?u:t.ease||u,steps:s,round:!0,to:s-1}},c.onChange=function(t){var e=t.i,r=h+1;if(e===h+1)f(n.elements[r],r);else for(;e>=r;r++)f(n.elements[r],r);h=e},this._stagger.play(c),this},add:function(t){for(var e,r=t.length,i=0;r>i;i++)e=t[i]instanceof n?t[i]:new n(t[i]),this.elements.push(e);return this}},function(){for(var t in n.prototype)n.prototype.hasOwnProperty(t)&&(h.prototype[t]=r(t))}(),s.setActorCollection(h),a.setActorCollection(h),t=h}(),d=function(){var t={},e=v;return t=function(t){var n="string"==typeof t?document.querySelectorAll(t):t,r=[];return n.get?r=n.get():n.length?r=[].slice.call(n):r.push(n),new e(r,{type:"dom"})}}(),m=c,y=s,g=a,x=f,w=u,O=h,b=n,A=p,P=v,F=r,C=l,k={Actor:A,ActorCollection:P,Input:F,Process:C,select:function(t){return d(t)},addAction:function(){return m.extend.apply(m,arguments),this},addEasing:function(){return y.extend.apply(y,arguments),this},addPreset:function(){return g.extend.apply(g,arguments),this},addSimulation:function(){return w.extend.apply(w,arguments),this},addValueType:function(){return O.extend.apply(O,arguments),this},addRoute:function(){return x.extend.apply(x,arguments),this},calc:b};return t=k}();return h.addRoute("values",function(){var t={},e={},n=function(t,e,n){n[t]&&n[t].call(n,e)};return["onStart","onFrame","onChange","onEnd"].forEach(function(t){e[t]=function(e){n(t,e,this)}}),t=e}()).addAction("play",c).addAction("run",function(){var t={},e=n,r=function(){var t={},e=u;return t=function(t,n,r,i){var s=e[t](n,r,i);return Math.abs(s)>=n.stopSpeed?s:0}}();return t={actionDefaults:function(){var t={};return t={inactiveFrames:0,maxInactiveFrames:3}}(),valueDefaults:function(){var t={};return t={simulate:"velocity",deceleration:0,acceleration:0,bounce:0,spring:80,timeConstant:395,stopSpeed:5,capture:!1,friction:.05}}(),parse:o,calculatesVelocity:!0,process:function(t,n,i){return n.velocity=r(n.simulate,n,i,this.started),n.current+e.speedPerFrame(n.velocity,i)},hasEnded:function(t){return this.inactiveFrames=t?0:this.inactiveFrames+1,this.inactiveFrames>this.maxInactiveFrames},limit:function(t,n){var i=t>=n.max,s=t<=n.min,a=i||s;return a&&(t=e.restricted(t,n.min,n.max),n.bounce?n.velocity=r("bounce",n):n.capture&&r("capture",n,i?n.max:n.min)),t}}}()).addAction("fire",function(){var t={};return t={parse:o,process:function(t,e){return e.current},hasEnded:function(){return!0}}}()).addAction("track",function(){var t={},e=n,i=o,s=function(){var t,e={},n=r,i="touchmove",s="mousemove",a=function(t,e){var n=e?t.changedTouches[0]:!1;return{x:n?n.clientX:t.pageX,y:n?n.clientY:t.pageY}},u=function(t){return t.originalEvent||t},o=function(t){var e=u(t),n=e.touches?!0:!1,r=a(e,n);this.update(r),this.isTouch=n,this.bindEvents()},c=o.prototype=new n;return c.bindEvents=function(){this.moveEvent=this.isTouch?i:s,t=this,document.documentElement.addEventListener(this.moveEvent,this.onMove)},c.unbindEvents=function(){document.documentElement.removeEventListener(this.moveEvent,this.onMove)},c.onMove=function(e){var n=a(e,t.isTouch);e=u(e),e.preventDefault(),t.update(n)},c.stop=function(){this.unbindEvents()},e=o}();return t={valueDefaults:function(){var t={};return t={escapeAmp:0}}(),parse:function(){var t=i.apply(this,arguments),e=arguments[arguments.length-1];return t.input=e.current?e:new s(e),t.inputOrigin||(t.inputOrigin=e.get()),t},onFrameStart:function(){this.inputOffset=e.offset(this.inputOrigin,this.input.current)},process:function(t,e){return this.inputOffset.hasOwnProperty(t)?e.origin+this.inputOffset[t]:e.current},hasEnded:function(){return!1}}}()).addAction("seek",function(){var t={},e=c;return t={surpressMethod:!0,actorMethods:{seek:function(t){return this.elapsed=this.duration*t,this.isActive||(this.action="seek",this.activate()),this}},process:e.process,hasEnded:function(){return this.rubix="play",!0}}}()),t=h}(),n=window.ui;return window.ui=window.popmotion=e,window.ui.noConflict=function(){window.ui=n},t}();